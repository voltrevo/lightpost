<html>
<head>
<title>Lightpost</title>

<script src="terminal/js/jquery-1.7.1.min.js"></script>
<script src="terminal/js/jquery.mousewheel-min.js"></script>
<script src="terminal/js/jquery.terminal-min.js"></script>

<link href="terminal/css/jquery.terminal.css" rel="stylesheet"/>

<script>var exports = {}</script>
<script src="js/lightpost.js"></script>
<script>var lp = exports;</script>

</head>
<body>

<script>

jQuery(document).ready(function($)
{
    var interpreter = new lp.interpreter;
    
    $('body').terminal(
        function(command, term)
        {
            interpreter.stdout = term.echo;
            interpreter.stderr = term.error;
            interpreter.handle_string(command + '\n');
            /*
            if (command !== '')
            {
                try
                {
                    var result = window.eval(command);
                    
                    if (result !== undefined)
                    {
                        term.echo(new String(result));
                    }
                }
                catch(e)
                {
                    term.error(new String(e));
                }
            }
            */
        },
        {
            greetings: '',
            name: 'lightpost_terminal',
            prompt: '> '
        });
});

</script>

</body>
</html>
